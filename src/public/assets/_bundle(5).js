NWS.initNamespace("NWS.Promero.DataModules.SubscriptionManagement.DataEditorSupport",function(){var _={params:null};return{init:function(params){_.params=params||{};if(params.InitSubsets){NWS.CommonScripts.ModuleManager.OnPageShow(function(e){if(typeof subsetInfo==="undefined")return;let classID=subsetInfo.Classification["@ID"];var inputContainer=document.querySelector("div#tagInput_"+classID);var inputs=Array.from(inputContainer.querySelectorAll("input[type='checkbox']"));inputContainer.innerHTML="";subsetInfo.Classification.Subset.forEach(subset=>{if(subset["@Name"]==="Alphabetical"||subset["@Name"]==="Ordered")return;let subsetSpan=document.createElement("span");let subsetInput=document.createElement("input");subsetInput.setAttribute("type","checkbox");subsetInput.setAttribute("onclick","NWS.Promero.DataModules.SubscriptionManagement.DataEditorSupport.SubsetClick(this);");let subsetLabel=document.createElement("label");subsetLabel.innerText=subset["@Name"];subsetSpan.append(subsetInput);subsetSpan.append(subsetLabel);if(!subset.Attribute)return;Array.from(subset.Attribute).forEach(attrib=>{let input=inputs.filter(input=>{return input.getAttribute("id").indexOf(`CM_${classID}_${attrib["@ID"]}`)!=-1})[0];if(input)subsetSpan.append(input.parentElement)});inputContainer.append(subsetSpan)})})}},RedirectWithDataID:function(redirectPath){redirectPath.replace("\\","/");let dataID=document.querySelector("div[itemid]").getAttribute("itemid");if(redirectPath.indexOf("/")==0&&redirectPath.indexOf("/:")==-1)window.location.href=redirectPath+((redirectPath.indexOf("?")==-1)?"?":"&")+"DataID="+dataID},SubsetClick:function(subset){subset.parentElement.querySelectorAll("span input[type='checkbox']").forEach(checkbox=>{checkbox.checked=subset.checked})}}})